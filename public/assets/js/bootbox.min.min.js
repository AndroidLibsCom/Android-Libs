!function(d,c){"function"==typeof define&&define.amd?define(["jquery"],c):"object"==typeof exports?module.exports=c(require("jquery")):d.bootbox=c(d.jQuery)}(this,function a(G,F){function E(d){var c=r[t.locale];return c?c[d]:r.en[d]}function D(b,h,g){b.stopPropagation(),b.preventDefault();var f=G.isFunction(g)&&g(b)===!1;f||h.modal("hide")}function C(e){var d,f=0;for(d in e){f++}return f}function B(b,f){var e=0;G.each(b,function(d,c){f(d,c,e++)})}function A(b){var f,e;if("object"!=typeof b){throw new Error("Please supply an object of options")}if(!b.message){throw new Error("Please specify a message")}return b=G.extend({},t,b),b.buttons||(b.buttons={}),b.backdrop=b.backdrop?"static":!1,f=b.buttons,e=C(f),B(f,function(c,g,d){if(G.isFunction(g)&&(g=f[c]={callback:g}),"object"!==G.type(g)){throw new Error("button with key "+c+" must be an object")}g.label||(g.label=c),g.className||(g.className=2>=e&&d===e-1?"btn-primary":"btn-default")}),b}function z(f,e){var h=f.length,g={};if(1>h||h>2){throw new Error("Invalid argument length")}return 2===h||"string"==typeof f[0]?(g[e[0]]=f[0],g[e[1]]=f[1]):g=f[0],g}function y(b,f,e){return G.extend(!0,{},b,z(f,e))}function x(g,f,j,i){var h={className:"bootbox-"+g,buttons:w.apply(null,f)};return v(y(h,i,j),f)}function w(){for(var h={},d=0,l=arguments.length;l>d;d++){var k=arguments[d],j=k.toLowerCase(),i=k.toUpperCase();h[j]={label:E(i)}}return h}function v(e,c){var f={};return B(c,function(g,d){f[d]=!0}),B(e.buttons,function(b){if(f[b]===F){throw new Error("button key "+b+" is not allowed (options are "+c.join("\n")+")")}}),e}var u={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},t={locale:"en",backdrop:!0,animate:!0,className:null,closeButton:!0,show:!0,container:"body"},s={};s.alert=function(){var b;if(b=x("alert",["ok"],["message","callback"],arguments),b.callback&&!G.isFunction(b.callback)){throw new Error("alert requires callback property to be a function when provided")}return b.buttons.ok.callback=b.onEscape=function(){return G.isFunction(b.callback)?b.callback():!0},s.dialog(b)},s.confirm=function(){var b;if(b=x("confirm",["cancel","confirm"],["message","callback"],arguments),b.buttons.cancel.callback=b.onEscape=function(){return b.callback(!1)},b.buttons.confirm.callback=function(){return b.callback(!0)},!G.isFunction(b.callback)){throw new Error("confirm requires a callback")}return s.dialog(b)},s.prompt=function(){var I,H,p,n,m,l,j;n=G(u.form),H={className:"bootbox-prompt",buttons:w("cancel","confirm"),value:"",inputType:"text"},I=v(y(H,arguments,["title","callback"]),["cancel","confirm"]),l=I.show===F?!0:I.show;var g=["date","time","number"],c=document.createElement("input");if(c.setAttribute("type",I.inputType),g[I.inputType]&&(I.inputType=c.type),I.message=n,I.buttons.cancel.callback=I.onEscape=function(){return I.callback(null)},I.buttons.confirm.callback=function(){var f;switch(I.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":f=m.val();break;case"checkbox":var e=m.find("input:checked");f=[],B(e,function(h,i){f.push(G(i).val())})}return I.callback(f)},I.show=!1,!I.title){throw new Error("prompt requires a title")}if(!G.isFunction(I.callback)){throw new Error("prompt requires a callback")}if(!u.inputs[I.inputType]){throw new Error("invalid prompt type")}switch(m=G(u.inputs[I.inputType]),I.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":m.val(I.value);break;case"select":var b={};if(j=I.inputOptions||[],!j.length){throw new Error("prompt with select requires options")}B(j,function(f,i){var h=m;if(i.value===F||i.text===F){throw new Error("given options in wrong format")}i.group&&(b[i.group]||(b[i.group]=G("<optgroup/>").attr("label",i.group)),h=b[i.group]),h.append("<option value='"+i.value+"'>"+i.text+"</option>")}),B(b,function(e,d){m.append(d)}),m.val(I.value);break;case"checkbox":var J=G.isArray(I.value)?I.value:[I.value];if(j=I.inputOptions||[],!j.length){throw new Error("prompt with checkbox requires options")}if(!j[0].value||!j[0].text){throw new Error("given options in wrong format")}m=G("<div/>"),B(j,function(i,h){var f=G(u.inputs[I.inputType]);f.find("input").attr("value",h.value),f.find("label").append(h.text),B(J,function(e,d){d===h.value&&f.find("input").prop("checked",!0)}),m.append(f)})}return I.placeholder&&m.attr("placeholder",I.placeholder),I.pattern&&m.attr("pattern",I.pattern),n.append(m),n.on("submit",function(d){d.preventDefault(),p.find(".btn-primary").click()}),p=s.dialog(I),p.off("shown.bs.modal"),p.on("shown.bs.modal",function(){m.focus()}),l===!0&&p.modal("show"),p},s.dialog=function(b){b=A(b);var n=G(u.dialog),m=n.find(".modal-body"),l=b.buttons,h="",g={onEscape:b.onEscape};if(B(l,function(d,c){h+="<button data-bb-handler='"+d+"' type='button' class='btn "+c.className+"'>"+c.label+"</button>",g[d]=c.callback}),m.find(".bootbox-body").html(b.message),b.animate===!0&&n.addClass("fade"),b.className&&n.addClass(b.className),b.title&&m.before(u.header),b.closeButton){var e=G(u.closeButton);b.title?n.find(".modal-header").prepend(e):e.css("margin-top","-10px").prependTo(m)}return b.title&&n.find(".modal-title").html(b.title),h.length&&(m.after(u.footer),n.find(".modal-footer").html(h)),n.on("hidden.bs.modal",function(c){c.target===this&&n.remove()}),n.on("shown.bs.modal",function(){n.find(".btn-primary:first").focus()}),n.on("escape.close.bb",function(c){g.onEscape&&D(c,n,g.onEscape)}),n.on("click",".modal-footer button",function(c){var f=G(this).data("bb-handler");D(c,n,g[f])}),n.on("click",".bootbox-close-button",function(c){D(c,n,g.onEscape)}),n.on("keyup",function(c){27===c.which&&n.trigger("escape.close.bb")}),G(b.container).append(n),n.modal({backdrop:b.backdrop,keyboard:!1,show:!1}),b.show&&n.modal("show"),n},s.setDefaults=function(){var b={};2===arguments.length?b[arguments[0]]=arguments[1]:b=arguments[0],G.extend(t,b)},s.hideAll=function(){G(".bootbox").modal("hide")};var r={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return s.init=function(b){return a(b||G)},s});